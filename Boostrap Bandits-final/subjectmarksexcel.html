<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1, shrink-to-fit=no"
    />
    <meta name="description" content="" />
    <meta name="author" content="" />
    <title>Tables - SB Admin</title>
    <link
      href="https://cdn.jsdelivr.net/npm/simple-datatables@latest/dist/style.css"
      rel="stylesheet"
    />
    <link href="css/styles.css" rel="stylesheet" />
    <script
      src="https://use.fontawesome.com/releases/v6.1.0/js/all.js"
      crossorigin="anonymous"
    ></script>
  </head>
  <body class="sb-nav-fixed">
    <nav class="sb-topnav navbar navbar-expand navbar-dark bg-dark">
      <!-- Navbar Brand-->
      <a class="navbar-brand ps-3" href="index.html"><img class="westview" src="assets/wslogo.jpeg"></a>
      <!-- Sidebar Toggle-->
      <button
        class="btn btn-link btn-sm order-1 order-lg-0 me-4 me-lg-0"
        id="sidebarToggle"
        href="#!"
      >
        <i class="fas fa-bars"></i>
      </button>
      <!-- Navbar Search-->
      <form
        class="d-none d-md-inline-block form-inline ms-auto me-0 me-md-3 my-2 my-md-0"
      >
        
      </form>
      <!-- Navbar-->
      <ul class="navbar-nav ms-auto ms-md-0 me-3 me-lg-4">
        <li class="nav-item dropdown">
          <a
            class="nav-link dropdown-toggle"
            id="navbarDropdown"
            href="#"
            role="button"
            data-bs-toggle="dropdown"
            aria-expanded="false"
            ><i class="fas fa-user fa-fw"></i
          ></a>
          <ul
            class="dropdown-menu dropdown-menu-end"
            aria-labelledby="navbarDropdown"
          >
            <li><a class="dropdown-item" href="#!">Settings</a></li>
            <li><a class="dropdown-item" href="#!">Activity Log</a></li>
            <li><hr class="dropdown-divider" /></li>
            <li><a class="dropdown-item" href="login.html">Logout</a></li>
          </ul>
        </li>
      </ul>
    </nav>
    <div id="layoutSidenav">
      <div id="layoutSidenav_nav">
        <nav class="sb-sidenav accordion sb-sidenav-dark" id="sidenavAccordion">
          <div class="sb-sidenav-menu">
            <div class="nav">
              <div class="sb-sidenav-menu-heading">Core</div>
              <a class="nav-link" href="index.html">
                <div class="sb-nav-link-icon">
                  <i class="fas fa-tachometer-alt"></i>
                </div>
                Dashboard
              </a>
              <a class="nav-link" href="calendar.html">
                <div class="sb-nav-link-icon">
                  <i class="fa-solid fa-award"></i>
                </div>
                Calendar
              </a>
              <a class="nav-link" href="subjectmarks.html">
                <div class="sb-nav-link-icon">
                  <i class="fa-solid fa-award"></i>
                </div>
                Subject Marks
              </a>
              <a class="nav-link" href="classteacher.html">
                <div class="sb-nav-link-icon">
                  <i class="fa-solid fa-award"></i>
                </div>
                Class Teacher
              </a>
              <a
                class="nav-link collapsed"
                href="#"
                data-bs-toggle="collapse"
                data-bs-target="#collapseLayouts"
                aria-expanded="false"
                aria-controls="collapseLayouts"
              >
                <div class="sb-nav-link-icon">
                  <i class="fas fa-columns"></i>
                </div>
                Study Material & Assignment
                <div class="sb-sidenav-collapse-arrow">
                  <i class="fas fa-angle-down"></i>
                </div>
              </a>
              <div
                class="collapse"
                id="collapseLayouts"
                aria-labelledby="headingOne"
                data-bs-parent="#sidenavAccordion"
              >
                <nav class="sb-sidenav-menu-nested nav">
                  <a class="nav-link" href="classnotes.html">Class Notes</a>
                  <a class="nav-link" href="assignments.html">Assignments</a>
                </nav>
              </div>
            </div>
          </div>
          <div class="sb-sidenav-footer">
            <div class="small">Logged in as:</div>
            Radha Tumbre
          </div>
        </nav>
      </div>
      <div id="layoutSidenav_content">
        <main>
          <div class="container-fluid px-4">
            <h1 class="mt-4">Marks</h1>
            <ol class="breadcrumb mb-4">
              <li class="breadcrumb-item">
                <a href="subjectmarks.html">Subjects</a>
              </li>
              <li class="breadcrumb-item active">Data Structure - S1</li>
            </ol>

            <div class="card mb-4">
              <div class="card-header">
                <i class="fas fa-table me-1"></i>
                Marksheet
              </div>
              <div class="card-body"></div>
              <link
                rel="stylesheet"
                href="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css"
              />
              <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
              <style>
                @media (min-width: 576px) {
                  .jumbotron {
                    padding: 1rem 2rem;
                  }
                }

                .tdaction {
                  width: 15%;
                }

                .tdSr {
                  width: 7%;
                }
              </style>
              <div class="container">
                <div class="row">
                  <div class="col-md-12 text-right">
                    <input
                      type="button"
                      id="btnAdd"
                      class="btn btn-primary para"
                      value="Add New"
                    />
                  </div>
                </div>
                <div class="row pt-3">
                  <div class="col-md-12 col-sm-12 col-12 p-2">
                    <table
                      id="tblData"
                      class="table table-bordered table-hover table-striped"
                    >
                      <thead>
                        <tr>
                          <th>Roll No</th>
                          <th>Name</th>
                          <th>Marks</th>
                          <th class="tdaction">Action</th>
                        </tr>
                      </thead>
                      <tbody></tbody>
                    </table>
                  </div>
                </div>
              </div>
              <script>
                var emptyRow =
                  "<tr><td colspan='4' class='text-center'> No Records Available</td></tr>";
                var emptyNewRow = "<tr class='trNewRow'>";
                emptyNewRow = emptyNewRow + "    <td class='tdName'>";
                emptyNewRow =
                  emptyNewRow +
                  "        <input type='text' class='form-control txtName' placeholder='Enter Roll No'/>";
                emptyNewRow = emptyNewRow + "    </td>";
                emptyNewRow = emptyNewRow + "    <td class='tdCity'>";
                emptyNewRow =
                  emptyNewRow +
                  "        <input type='text' class='form-control txtCity' placeholder='Enter Name'/>";
                emptyNewRow = emptyNewRow + "    </td>";
                emptyNewRow = emptyNewRow + "    <td class='tdMobile'>";
                emptyNewRow =
                  emptyNewRow +
                  "        <input type='text' class='form-control txtMobile' placeholder='Enter Marks'/>";
                emptyNewRow = emptyNewRow + "    </td>";
                emptyNewRow = emptyNewRow + "    <td class='tdAction'>";
                emptyNewRow =
                  emptyNewRow +
                  "        <button class='btn btn-sm btn-success btn-save'> Save</button>";
                emptyNewRow =
                  emptyNewRow +
                  "        <button class='btn btn-sm btn-success btn-cancel'> Cancel</button>";
                emptyNewRow = emptyNewRow + "    </td>";
                emptyNewRow = emptyNewRow + "</tr>";

                var rowButtons =
                  "<button class='btn btn-success btn-sm btn-edit' > Edit </button>  <button class='btn btn-danger btn-sm' > Delete </button> ";
                var rowUpdateButtons =
                  "<button class='btn btn-success btn-sm btn-save' > Update </button>  <button class='btn btn-danger btn-sm btn-save' > Cancel </button> ";

                $(document).ready(function () {
                  debugger;
                  $("#tblData tbody").append(emptyRow); // adding empty row on page load

                  $("#btnAdd").click(function () {
                    debugger;
                    if ($("#tblData tbody").children().children().length == 1) {
                      $("#tblData tbody").html("");
                    }
                    debugger;
                    $("#tblData tbody").append(emptyNewRow); // appending dynamic string to table tbody
                  });

                  $("#tblData").on("click", ".btn-save", function () {
                    const name = $(this)
                      .parent()
                      .parent()
                      .find(".txtName")
                      .val();
                    $(this)
                      .parent()
                      .parent()
                      .find(".tdName")
                      .html("" + name + "");
                    const city = $(this)
                      .parent()
                      .parent()
                      .find(".txtCity")
                      .val();
                    $(this)
                      .parent()
                      .parent()
                      .find(".tdCity")
                      .html("" + city + "");
                    const mobile = $(this)
                      .parent()
                      .parent()
                      .find(".txtMobile")
                      .val();
                    $(this)
                      .parent()
                      .parent()
                      .find(".tdMobile")
                      .html("" + mobile + "");
                    $(this)
                      .parent()
                      .parent()
                      .find(".tdAction")
                      .html(rowButtons);
                  });

                  $("#tblData").on("click", ".btn-danger", function () {
                    // registering function for delete button
                    $(this).parent().parent().remove();
                    if ($("#tblData tbody").children().children().length == 0) {
                      $("#tblData tbody").append(emptyRow);
                    }
                  });

                  $("#tblData").on("click", ".btn-cancel", function () {
                    $(this).parent().parent().remove();
                  });
                  $("#tblData").on("click", ".btn-edit", function () {
                    const name = $(this)
                      .parent()
                      .parent()
                      .find(".tdName")
                      .html();

                    $(this)
                      .parent()
                      .parent()
                      .find(".tdName")
                      .html(
                        "<input type='text' value='" +
                          name +
                          "' class='form-control txtName' placeholder='Enter Name'/>"
                      );

                    const city = $(this)
                      .parent()
                      .parent()
                      .find(".tdCity")
                      .html();

                    $(this)
                      .parent()
                      .parent()
                      .find(".tdCity")
                      .html(
                        "<input type='text' value='" +
                          city +
                          "' class='form-control txtCity' placeholder='Enter City'/>"
                      );

                    const mobile = $(this)
                      .parent()
                      .parent()
                      .find(".tdMobile")
                      .html();

                    $(this)
                      .parent()
                      .parent()
                      .find(".tdMobile")
                      .html(
                        "<input type='text' value='" +
                          mobile +
                          "' class='form-control txtMobile' placeholder='Enter Mobile'/>"
                      );
                    $(this)
                      .parent()
                      .parent()
                      .find(".tdAction")
                      .html(rowUpdateButtons);
                  });
                });
              </script>
            </div>
          </div>
        </main>
        <footer class="py-4 bg-light mt-auto">
          <div class="container-fluid px-4">
            <div
              class="d-flex align-items-center justify-content-between small"
            >
              <div class="text-muted">Copyright &copy; Your Website 2022</div>
              <div>
                <a href="#">Privacy Policy</a>
                &middot;
                <a href="#">Terms &amp; Conditions</a>
              </div>
            </div>
          </div>
        </footer>
      </div>
    </div>
    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"
      crossorigin="anonymous"
    ></script>
    <script src="js/scripts.js"></script>
    <script
      src="https://cdn.jsdelivr.net/npm/simple-datatables@latest"
      crossorigin="anonymous"
    ></script>
    <script src="js/datatables-simple-demo.js"></script>
  </body>
</html>
